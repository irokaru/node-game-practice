!function(e){function t(t){for(var s,a,u=t[0],o=t[1],l=t[2],h=0,f=[];h<u.length;h++)a=u[h],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);for(c&&c(t);f.length;)f.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],s=!0,u=1;u<r.length;u++){var o=r[u];0!==i[o]&&(s=!1)}s&&(n.splice(t--,1),e=a(a.s=r[0]))}return e}var s={},i={0:0},n=[];function a(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=s,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],o=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var c=o;n.push([2,1]),r()}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={WIDTH:640,HEIGHT:480}},,function(e,t,r){"use strict";var s=u(r(1)),i=u(r(0)),n=u(r(3)),a=u(r(14));function u(e){return e&&e.__esModule?e:{default:e}}const o={type:s.default.AUTO,parent:"game",width:i.default.WIDTH,height:i.default.HEIGHT,scene:[n.default,a.default],physics:{default:"arcade",arcade:{gravity:{y:0}}}},l=new s.default.Game(o);window.game=l,window.addEventListener("resize",()=>l.scale.refresh())},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=d(r(4)),i=d(r(5)),n=d(r(6)),a=d(r(7)),u=d(r(9)),o=d(r(10)),l=d(r(11)),c=d(r(12)),h=d(r(0)),f=d(r(13));function d(e){return e&&e.__esModule?e:{default:e}}const g=new u.default,y=new a.default,b=new a.default;class m extends Phaser.Scene{constructor(){super({key:"Game",active:!1})}preload(){console.log("preload phase...")}create(){console.log("create phase...");const e=l.default.getReferenceXPos(h.default.WIDTH),t=l.default.getReferenceYPos(h.default.HEIGHT);for(let r=0;r<l.default.Y_NUM;r++)for(let s=0;s<l.default.X_NUM;s++){const i=s*(l.default.X_SIZE+1)+l.default.X_SIZE/2+e,a=r*(l.default.Y_SIZE+1)+l.default.Y_SIZE/2+t,u=new n.default(this,i,a,l.default.X_SIZE,l.default.Y_SIZE,l.default.COLOR),o=s+r*l.default.X_NUM;b.add("block"+o,u)}const r=c.default.getReferenceXPos(h.default.WIDTH),a=c.default.getReferenceYPos(h.default.HEIGHT),u=new i.default(this,r,a,c.default.X_SIZE,c.default.Y_SIZE,c.default.COLOR);y.add("bar",u);const f=c.default.getReferenceXPos(h.default.WIDTH),d=c.default.getReferenceYPos(h.default.HEIGHT)-150,m=new s.default(this,f,d,o.default.RADIUS,o.default.COLOR).setVector(3,3);y.add("ball",m),g.setup(this)}update(){const e=y.get("bar"),t=y.get("ball");g.isDown("left")&&e.moveRelative(-c.default.X_SPEED,0,!0),g.isDown("right")&&e.moveRelative(c.default.X_SPEED,0,!0),t.collisionWallX()&&t.setVector(-t.vector.x,t.vector.y),t.collisionWallY()&&t.setVector(t.vector.x,-t.vector.y);"top"===f.default.rect2circle(e,t)?(t.y=e.y-(e.height/2+t.radius),t.setVector(t.vector.x,-t.vector.y)):t.moveByVector();for(const[e,r]of Object.entries(b.list)){const s=f.default.rect2circle(r,t);""!==s&&(r.destroy(),b.remove(e)),"top"===s||"bottom"===s?t.setVector(t.vector.x,-t.vector.y):"left"!==s&&"right"!==s||t.setVector(-t.vector.x,t.vector.y)}0===Object.keys(b.list).length&&this.scene.start("GameOver")}}t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s extends Phaser.GameObjects.Arc{constructor(e,t,r,s,i,n){return super(e,t,r,s,0,360,!1,i,n),e.add.existing(this),this.setVector(0,0),this.xMin=this.radius,this.xMax=e.game.canvas.width-this.radius,this.yMin=this.radius,this.yMax=e.game.canvas.height-this.radius,this}setVector(e=0,t=0){return this.vector={x:e,y:t},this}moveByVector(){return this.moveRelative(this.vector.x,this.vector.y,!0)}moveRelative(e=0,t=0,r=!1){return this.x+=e,this.y+=t,r&&this.fitInCanvas(),this}collisionWallX(){const e=this.x+this.vector.x;return e<this.xMin||this.xMax<e}collisionWallY(){const e=this.y+this.vector.y;return e<this.yMin||this.yMax<e}fitInCanvas(){return this.x<this.xMin&&(this.x=this.xMin),this.x>this.xMax&&(this.x=this.xMax),this.y<this.yMin&&(this.y=this.yMin),this.y>this.yMax&&(this.y=this.yMax),this}}t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s extends Phaser.GameObjects.Rectangle{constructor(e,t,r,s,i,n,a){return super(e,t,r,s,i,n,a),e.add.existing(this),this.xMin=this.width/2,this.xMax=e.game.canvas.width-this.width/2,this}moveRelative(e=0,t=0,r=!1){return this.x+=e,this.y+=t,r&&this.fitInCanvas(),this}fitInCanvas(){return this.x<this.xMin&&(this.x=this.xMin),this.x>this.xMax&&(this.x=this.xMax),this}}t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s extends Phaser.GameObjects.Rectangle{constructor(e,t,r,s,i,n,a){return super(e,t,r,s,i,n,a),e.add.existing(this),this}}t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,i=r(8),n=(s=i)&&s.__esModule?s:{default:s};t.default=class{constructor(){this.list={}}add(e,t){if(this._hasKeyInList(e))throw new Error("key already exists");this.list[e]=t}get(e){if(!this._hasKeyInList(e))throw new Error("key is not exists");return this.list[e]}has(e){return this._hasKeyInList(e)}remove(e){if(!this._hasKeyInList(e))throw new Error("key is not exists");return delete this.list[e],this}_hasKeyInList(e){return n.default.hasKeyInObject(this.list,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(){this.$=this.constructor,this._data={},this._rules={},this.$._validateType={number:e=>s.isNumber(e),int:e=>s.isInteger(e),integer:e=>s.isInteger(e),string:e=>s.isString(e),numstring:e=>s.isNumberOnString(e),intstring:e=>s.isIntegerOnString(e),bool:e=>s.isBoolean(e),boolean:e=>s.isBoolean(e),array:e=>s.isArray(e),object:e=>s.isObject(e),callback:(e,t)=>s.callback(e,t)},this.$._strPatterns={japanese:e=>s.isJapanese(e),email:e=>s.isEmail(e),url:e=>s.isUrl(e)},this.$._validateMin={number:(e,t,r=!0)=>s.minNumber(e,t,r),int:(e,t,r=!0)=>s.minNumber(e,t,r),integer:(e,t,r=!0)=>s.minNumber(e,t,r),string:(e,t,r=!0)=>s.minLength(e,t,r),numstring:(e,t,r=!0)=>s.minLength(e,t,r),intstring:(e,t,r=!0)=>s.minLength(e,t,r),bool:(e,t,r=!0)=>!1,boolean:(e,t,r=!0)=>!1,array:(e,t,r=!0)=>s.minArrayLength(e,t,r),object:(e,t,r=!0)=>s.minObjectLength(e,t,r)},this.$._validateMax={number:(e,t,r=!0)=>s.maxNumber(e,t,r),int:(e,t,r=!0)=>s.maxNumber(e,t,r),integer:(e,t,r=!0)=>s.maxNumber(e,t,r),string:(e,t,r=!0)=>s.maxLength(e,t,r),numstring:(e,t,r=!0)=>s.maxLength(e,t,r),intstring:(e,t,r=!0)=>s.maxLength(e,t,r),bool:(e,t,r=!0)=>!1,boolean:(e,t,r=!0)=>!1,array:(e,t,r=!0)=>s.maxArrayLength(e,t,r),object:(e,t,r=!0)=>s.maxObjectLength(e,t,r)}}rules(e,t){if(!s.isObject(e)||!s.isObject(t))return null;if(!s.minObjectLength(t,1))return null;for(const[e,r]of Object.entries(t))if(!s.inArray(r.type,Object.keys(this.$._validateType)))return null;return this._data=e,this._rules=t,this}exec(){return!Object.entries(this.errors()).length}errors(e={}){for(let[t,r]of Object.entries(this._rules)){const i=r.name||"",n=r.type,a=this._data[t];if(e=s._resetErrorAsKey(e,t),s.hasKeyInObject(this._data,t))if("callback"===n||this.$._validateType[n](a))if("callback"!==n){if(s.hasKeyInObject(r,"min")&&(this.$._validateMin[n](a,r.min)||(e=s._setError(e,t,s._getMinErrorMsg(a,r.min,i||t)))),s.hasKeyInObject(r,"max")&&(this.$._validateMax[n](a,r.max)||(e=s._setError(e,t,s._getMaxErrorMsg(a,r.max,i||t)))),s.hasKeyInObject(r,"pattern")&&"string"===n&&!this.$._strPatterns[r.pattern](a)){const r="正しい形式で入力してください";e=s._setError(e,t,r)}}else e=this._callbackExec(r,t,a,e);else{const r=i?i+"の型が不正です":t+"の型が不正です";e=s._setError(e,t,r)}else if(!s._checkNullable(r)){const r=i?i+"がありません":t+"がありません";e=s._setError(e,t,r)}}return e}static isNotNull(e){return null!=e&&""!==e}static isNumber(e){return"number"==typeof e&&isFinite(e)}static isInteger(e){return"number"==typeof e&&Number.isInteger(e)}static minNumber(e,t,r=!0){return!!(s.isNumber(e)&&s.isNumber(t)&&s.isBoolean(r))&&(r?e>=t:e>t)}static maxNumber(e,t,r=!0){return!!(s.isNumber(e)&&s.isNumber(t)&&s.isBoolean(r))&&(r?e<=t:e<t)}static betweenNumber(e,t,r,i=!0,n=!0){return s.minNumber(e,t,i)&&s.maxNumber(e,r,n)}static isString(e){return"string"==typeof e}static isIntegerOnString(e){return!!s.isString(e)&&null!==e.match(/^-?[0-9]*$|^-?[0-9]*\.0*$/)}static isNumberOnString(e){if(!s.isString(e))return!1;const t=Number(e);return"number"==typeof t&&Number.isFinite(t)}static isJapanese(e){return!!s.isString(e)&&null!==e.match(/^[\u30a0-\u30ff\u3040-\u309f\u3005-\u3006\u30e0-\u9fcf]+$/)}static isEmail(e){return!!s.isString(e)&&null!==e.match(/^[A-Za-z0-9]+[\w.-]*@[A-Za-z0-9]+[\w.-]+\.[\w.-]+$/)}static isUrl(e){return!!s.isString(e)&&null!==e.match(/^https?(:\/\/[-_.!~*¥'()a-zA-Z0-9;¥/?:¥@&=+¥$,%#]+)$/)}static minLength(e,t,r=!0){return!(!s.isString(e)||!s.isInteger(t)||t<0||!s.isBoolean(r))&&(r?e.length>=t:e.length>t)}static maxLength(e,t,r=!0){return!(!s.isString(e)||!s.isInteger(t)||t<0||!s.isBoolean(r))&&(r?e.length<=t:e.length<t)}static betweenLength(e,t,r,i=!0,n=!0){return s.minLength(e,t,i)&&s.maxLength(e,r,n)}static isBoolean(e){return!0===e||!1===e||"[object Boolean]"===toString.call(e)}static isArray(e){return Array.isArray(e)}static minArrayLength(e,t,r=!0){return!(!s.isArray(e)||!s.isInteger(t)||t<0||!s.isBoolean(r))&&(r?e.length>=t:e.length>t)}static maxArrayLength(e,t,r=!0){return!(!s.isArray(e)||!s.isInteger(t)||t<0||!s.isBoolean(r))&&(r?e.length<=t:e.length<t)}static betweenArrayLength(e,t,r,i=!0,n=!0){return s.minArrayLength(e,t,i)&&s.maxArrayLength(e,r,n)}static inArray(e,t,r=!1){if(!s.isArray(t)||!s.isBoolean(r))return!1;const i=[].indexOf.call(t,e);return r?i:-1!==i}static isObject(e){return"object"==typeof e&&null!==e&&!s.isArray(e)}static hasKeyInObject(e,t){return!(!s.isObject(e)||!s.isString(t))&&e.hasOwnProperty(t)}static minObjectLength(e,t,r=!0){return!(!s.isObject(e)||!s.isInteger(t)||t<0||!s.isBoolean(r))&&(r?Object.keys(e).length>=t:Object.keys(e).length>t)}static maxObjectLength(e,t,r=!0){return!(!s.isObject(e)||!s.isInteger(t)||t<0||!s.isBoolean(r))&&(r?Object.keys(e).length<=t:Object.keys(e).length<t)}static betweenObjectLength(e,t,r,i=!0,n=!0){return s.minObjectLength(e,t,i)&&s.maxObjectLength(e,r,n)}static callback(e,t){return e(...t)}static _checkNullable(e){return!!(s.isObject(e)&&s.hasKeyInObject(e,"nullable")&&s.isBoolean(e.nullable))&&e.nullable}static _setError(e,t,r){return s.hasKeyInObject(e,t)||(e=s._resetErrorAsKey(e,t,!0)),e[t].push(r),e}static _resetErrorAsKey(e,t,r=!1){return(s.hasKeyInObject(e,t)||r)&&(e[t]=[]),e}_callbackExec(e,t,r,i){const n=e.name||"",a=e.type,u=e.callback||null;if(null===u)return i=s._setError(i,t,"not set callback function");const o=this.$._validateType[a](u,[r,n||t]);if(!s.isArray(o))return i=s._setError(i,t,"function return type is not array");if(s.minArrayLength(o,1))for(const e of o)i=s._setError(i,t,e);return i}static _getMinErrorMsg(e,t,r=""){return s.isString(e)?r?`${r}は${t}文字以上にしてください`:t+"文字以上にしてください":s.isNumber(e)?r?`${r}は${t}以上にしてください`:t+"以上にしてください":s.isArray(e)||s.isObject(e)?r?`${r}は${t}要素以上にしてください`:t+"要素以上にしてください":s.isBoolean(e)?r?r+"は真偽値です":"真偽値です":""}static _getMaxErrorMsg(e,t,r=""){return s.isString(e)?r?`${r}は${t}文字以内にしてください`:t+"文字以内にしてください":s.isNumber(e)?r?`${r}は${t}以下にしてください`:t+"以下にしてください":s.isArray(e)||s.isObject(e)?r?`${r}は${t}要素以下にしてください`:t+"要素以下にしてください":s.isBoolean(e)?r?r+"は真偽値です":"真偽値です":""}}t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{setup(e){return this.keys=e.input.keyboard.addKeys({left:"left",right:"right"}),this}isDown(e){return this.keys[e].isDown}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={RADIUS:10,COLOR:65280}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={X_NUM:10,Y_NUM:5,X_SIZE:50,Y_SIZE:20,COLOR:13421772,getReferenceXPos(e){return(e-this.X_NUM*(this.X_SIZE+1))/2},getReferenceYPos:e=>e/15}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={X_SIZE:100,Y_SIZE:15,X_SPEED:5,COLOR:16764108,getReferenceXPos:e=>e/2,getReferenceYPos:e=>13*e/15}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{static rect2rect(e,t){return e.x-t.x<e.width/2+t.width/2&&e.y-t.y<e.height/2+t.height/2}static rect2circle(e,t){let r=t.x,s=t.y,i="";t.x<e.x-e.width/2?(r=e.x-e.width/2,i="left"):t.x>e.x+e.width/2&&(r=e.x+e.width/2,i="right"),t.y<e.y-e.height/2?(s=e.y-e.height/2,i="top"):t.y>e.y+e.height/2&&(s=e.y+e.height/2,i="bottom");const n=t.x-r,a=t.y-s;return Math.sqrt(n*n+a*a)<t.radius?i:""}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,i=r(0),n=(s=i)&&s.__esModule?s:{default:s};class a extends Phaser.Scene{constructor(){super({key:"GameOver",active:!1})}create(){this.add.text(n.default.WIDTH/2,n.default.HEIGHT/2,"GAME OVER",{fontSize:"48px"}).setOrigin(.5)}}t.default=a}]);