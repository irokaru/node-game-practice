!function(t){function e(e){for(var s,a,u=e[0],l=e[1],o=e[2],h=0,f=[];h<u.length;h++)a=u[h],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);for(c&&c(e);f.length;)f.shift()();return n.push.apply(n,o||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],s=!0,u=1;u<r.length;u++){var l=r[u];0!==i[l]&&(s=!1)}s&&(n.splice(e--,1),t=a(a.s=r[0]))}return t}var s={},i={0:0},n=[];function a(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=s,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(r,s,function(e){return t[e]}.bind(null,s));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var o=0;o<u.length;o++)e(u[o]);var c=l;n.push([2,1]),r()}([,function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={WIDTH:640,HEIGHT:480}},function(t,e,r){"use strict";var s=a(r(0)),i=a(r(1)),n=a(r(3));function a(t){return t&&t.__esModule?t:{default:t}}const u={type:s.default.AUTO,parent:"game",width:i.default.WIDTH,height:i.default.HEIGHT,scene:[n.default],physics:{default:"arcade",arcade:{gravity:{y:0}}}},l=new s.default.Game(u);window.game=l,window.addEventListener("resize",()=>l.scale.refresh())},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=d(r(4)),i=d(r(5)),n=d(r(6)),a=d(r(7)),u=d(r(9)),l=d(r(10)),o=d(r(11)),c=d(r(12)),h=d(r(1)),f=d(r(13));function d(t){return t&&t.__esModule?t:{default:t}}const g=new u.default;class y extends Phaser.Scene{constructor(){super({key:"Game",active:!1})}preload(){console.log("preload phase...")}create(){console.log("create phase...");const t=o.default.getReferenceXPos(h.default.WIDTH),e=o.default.getReferenceYPos(h.default.HEIGHT);for(let r=0;r<o.default.Y_NUM;r++)for(let s=0;s<o.default.X_NUM;s++){const i=s*(o.default.X_SIZE+1)+o.default.X_SIZE/2+t,u=r*(o.default.Y_SIZE+1)+o.default.Y_SIZE/2+e,l=new n.default(this,i,u,o.default.X_SIZE,o.default.Y_SIZE,o.default.COLOR),c=s+r*o.default.X_NUM;a.default.add("block"+c,l)}const r=c.default.getReferenceXPos(h.default.WIDTH),u=c.default.getReferenceYPos(h.default.HEIGHT),f=new i.default(this,r,u,c.default.X_SIZE,c.default.Y_SIZE,c.default.COLOR);a.default.add("bar",f);const d=c.default.getReferenceXPos(h.default.WIDTH),y=c.default.getReferenceYPos(h.default.HEIGHT)-150,b=new s.default(this,d,y,l.default.RADIUS,l.default.COLOR).setVector(3,3);a.default.add("ball",b),g.setup(this)}update(){const t=a.default.get("bar"),e=a.default.get("ball");g.isDown("left")&&t.moveRelative(-3,0,!0),g.isDown("right")&&t.moveRelative(3,0,!0),e.collisionWallX()&&e.setVector(-e.vector.x,e.vector.y),e.collisionWallY()&&e.setVector(e.vector.x,-e.vector.y);"top"===f.default.rect2circle(t,e)?(e.y=t.y-(t.height/2+e.radius),e.setVector(e.vector.x,-e.vector.y)):e.moveByVector();for(let t=0;t<o.default.X_NUM*o.default.Y_NUM;t++){const r="block"+t;if(!a.default.has(r))continue;const s=a.default.get(r),i=f.default.rect2circle(s,e);""!==i&&(s.destroy(),a.default.remove(r)),"top"===i||"bottom"===i?e.setVector(e.vector.x,-e.vector.y):"left"!==i&&"right"!==i||e.setVector(-e.vector.x,e.vector.y)}}}e.default=y},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s extends Phaser.GameObjects.Arc{constructor(t,e,r,s,i,n){return super(t,e,r,s,0,360,!1,i,n),t.add.existing(this),this.setVector(0,0),this.xMin=this.radius,this.xMax=t.game.canvas.width-this.radius,this.yMin=this.radius,this.yMax=t.game.canvas.height-this.radius,this}setVector(t=0,e=0){return this.vector={x:t,y:e},this}moveByVector(){return this.moveRelative(this.vector.x,this.vector.y,!0)}moveRelative(t=0,e=0,r=!1){return this.x+=t,this.y+=e,r&&this.fitInCanvas(),this}collisionWallX(){const t=this.x+this.vector.x;return t<this.xMin||this.xMax<t}collisionWallY(){const t=this.y+this.vector.y;return t<this.yMin||this.yMax<t}fitInCanvas(){return this.x<this.xMin&&(this.x=this.xMin),this.x>this.xMax&&(this.x=this.xMax),this.y<this.yMin&&(this.y=this.yMin),this.y>this.yMax&&(this.y=this.yMax),this}}e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s extends Phaser.GameObjects.Rectangle{constructor(t,e,r,s,i,n,a){return super(t,e,r,s,i,n,a),t.add.existing(this),this.xMin=this.width/2,this.xMax=t.game.canvas.width-this.width/2,this}moveRelative(t=0,e=0,r=!1){return this.x+=t,this.y+=e,r&&this.fitInCanvas(),this}fitInCanvas(){return this.x<this.xMin&&(this.x=this.xMin),this.x>this.xMax&&(this.x=this.xMax),this}}e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s extends Phaser.GameObjects.Rectangle{constructor(t,e,r,s,i,n,a){return super(t,e,r,s,i,n,a),t.add.existing(this),this}}e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,i=r(8),n=(s=i)&&s.__esModule?s:{default:s};e.default=new class{constructor(){this.list={}}add(t,e){if(this._hasKeyInList(t))throw new Error("key already exists");this.list[t]=e}get(t){if(!this._hasKeyInList(t))throw new Error("key is not exists");return this.list[t]}has(t){return this._hasKeyInList(t)}remove(t){if(!this._hasKeyInList(t))throw new Error("key is not exists");return delete this.list[t],this}_hasKeyInList(t){return n.default.hasKeyInObject(this.list,t)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(){this.$=this.constructor,this._data={},this._rules={},this.$._validateType={number:t=>s.isNumber(t),int:t=>s.isInteger(t),integer:t=>s.isInteger(t),string:t=>s.isString(t),numstring:t=>s.isNumberOnString(t),intstring:t=>s.isIntegerOnString(t),bool:t=>s.isBoolean(t),boolean:t=>s.isBoolean(t),array:t=>s.isArray(t),object:t=>s.isObject(t),callback:(t,e)=>s.callback(t,e)},this.$._strPatterns={japanese:t=>s.isJapanese(t),email:t=>s.isEmail(t),url:t=>s.isUrl(t)},this.$._validateMin={number:(t,e,r=!0)=>s.minNumber(t,e,r),int:(t,e,r=!0)=>s.minNumber(t,e,r),integer:(t,e,r=!0)=>s.minNumber(t,e,r),string:(t,e,r=!0)=>s.minLength(t,e,r),numstring:(t,e,r=!0)=>s.minLength(t,e,r),intstring:(t,e,r=!0)=>s.minLength(t,e,r),bool:(t,e,r=!0)=>!1,boolean:(t,e,r=!0)=>!1,array:(t,e,r=!0)=>s.minArrayLength(t,e,r),object:(t,e,r=!0)=>s.minObjectLength(t,e,r)},this.$._validateMax={number:(t,e,r=!0)=>s.maxNumber(t,e,r),int:(t,e,r=!0)=>s.maxNumber(t,e,r),integer:(t,e,r=!0)=>s.maxNumber(t,e,r),string:(t,e,r=!0)=>s.maxLength(t,e,r),numstring:(t,e,r=!0)=>s.maxLength(t,e,r),intstring:(t,e,r=!0)=>s.maxLength(t,e,r),bool:(t,e,r=!0)=>!1,boolean:(t,e,r=!0)=>!1,array:(t,e,r=!0)=>s.maxArrayLength(t,e,r),object:(t,e,r=!0)=>s.maxObjectLength(t,e,r)}}rules(t,e){if(!s.isObject(t)||!s.isObject(e))return null;if(!s.minObjectLength(e,1))return null;for(const[t,r]of Object.entries(e))if(!s.inArray(r.type,Object.keys(this.$._validateType)))return null;return this._data=t,this._rules=e,this}exec(){return!Object.entries(this.errors()).length}errors(t={}){for(let[e,r]of Object.entries(this._rules)){const i=r.name||"",n=r.type,a=this._data[e];if(t=s._resetErrorAsKey(t,e),s.hasKeyInObject(this._data,e))if("callback"===n||this.$._validateType[n](a))if("callback"!==n){if(s.hasKeyInObject(r,"min")&&(this.$._validateMin[n](a,r.min)||(t=s._setError(t,e,s._getMinErrorMsg(a,r.min,i||e)))),s.hasKeyInObject(r,"max")&&(this.$._validateMax[n](a,r.max)||(t=s._setError(t,e,s._getMaxErrorMsg(a,r.max,i||e)))),s.hasKeyInObject(r,"pattern")&&"string"===n&&!this.$._strPatterns[r.pattern](a)){const r="正しい形式で入力してください";t=s._setError(t,e,r)}}else t=this._callbackExec(r,e,a,t);else{const r=i?i+"の型が不正です":e+"の型が不正です";t=s._setError(t,e,r)}else if(!s._checkNullable(r)){const r=i?i+"がありません":e+"がありません";t=s._setError(t,e,r)}}return t}static isNotNull(t){return null!=t&&""!==t}static isNumber(t){return"number"==typeof t&&isFinite(t)}static isInteger(t){return"number"==typeof t&&Number.isInteger(t)}static minNumber(t,e,r=!0){return!!(s.isNumber(t)&&s.isNumber(e)&&s.isBoolean(r))&&(r?t>=e:t>e)}static maxNumber(t,e,r=!0){return!!(s.isNumber(t)&&s.isNumber(e)&&s.isBoolean(r))&&(r?t<=e:t<e)}static betweenNumber(t,e,r,i=!0,n=!0){return s.minNumber(t,e,i)&&s.maxNumber(t,r,n)}static isString(t){return"string"==typeof t}static isIntegerOnString(t){return!!s.isString(t)&&null!==t.match(/^-?[0-9]*$|^-?[0-9]*\.0*$/)}static isNumberOnString(t){if(!s.isString(t))return!1;const e=Number(t);return"number"==typeof e&&Number.isFinite(e)}static isJapanese(t){return!!s.isString(t)&&null!==t.match(/^[\u30a0-\u30ff\u3040-\u309f\u3005-\u3006\u30e0-\u9fcf]+$/)}static isEmail(t){return!!s.isString(t)&&null!==t.match(/^[A-Za-z0-9]+[\w.-]*@[A-Za-z0-9]+[\w.-]+\.[\w.-]+$/)}static isUrl(t){return!!s.isString(t)&&null!==t.match(/^https?(:\/\/[-_.!~*¥'()a-zA-Z0-9;¥/?:¥@&=+¥$,%#]+)$/)}static minLength(t,e,r=!0){return!(!s.isString(t)||!s.isInteger(e)||e<0||!s.isBoolean(r))&&(r?t.length>=e:t.length>e)}static maxLength(t,e,r=!0){return!(!s.isString(t)||!s.isInteger(e)||e<0||!s.isBoolean(r))&&(r?t.length<=e:t.length<e)}static betweenLength(t,e,r,i=!0,n=!0){return s.minLength(t,e,i)&&s.maxLength(t,r,n)}static isBoolean(t){return!0===t||!1===t||"[object Boolean]"===toString.call(t)}static isArray(t){return Array.isArray(t)}static minArrayLength(t,e,r=!0){return!(!s.isArray(t)||!s.isInteger(e)||e<0||!s.isBoolean(r))&&(r?t.length>=e:t.length>e)}static maxArrayLength(t,e,r=!0){return!(!s.isArray(t)||!s.isInteger(e)||e<0||!s.isBoolean(r))&&(r?t.length<=e:t.length<e)}static betweenArrayLength(t,e,r,i=!0,n=!0){return s.minArrayLength(t,e,i)&&s.maxArrayLength(t,r,n)}static inArray(t,e,r=!1){if(!s.isArray(e)||!s.isBoolean(r))return!1;const i=[].indexOf.call(e,t);return r?i:-1!==i}static isObject(t){return"object"==typeof t&&null!==t&&!s.isArray(t)}static hasKeyInObject(t,e){return!(!s.isObject(t)||!s.isString(e))&&t.hasOwnProperty(e)}static minObjectLength(t,e,r=!0){return!(!s.isObject(t)||!s.isInteger(e)||e<0||!s.isBoolean(r))&&(r?Object.keys(t).length>=e:Object.keys(t).length>e)}static maxObjectLength(t,e,r=!0){return!(!s.isObject(t)||!s.isInteger(e)||e<0||!s.isBoolean(r))&&(r?Object.keys(t).length<=e:Object.keys(t).length<e)}static betweenObjectLength(t,e,r,i=!0,n=!0){return s.minObjectLength(t,e,i)&&s.maxObjectLength(t,r,n)}static callback(t,e){return t(...e)}static _checkNullable(t){return!!(s.isObject(t)&&s.hasKeyInObject(t,"nullable")&&s.isBoolean(t.nullable))&&t.nullable}static _setError(t,e,r){return s.hasKeyInObject(t,e)||(t=s._resetErrorAsKey(t,e,!0)),t[e].push(r),t}static _resetErrorAsKey(t,e,r=!1){return(s.hasKeyInObject(t,e)||r)&&(t[e]=[]),t}_callbackExec(t,e,r,i){const n=t.name||"",a=t.type,u=t.callback||null;if(null===u)return i=s._setError(i,e,"not set callback function");const l=this.$._validateType[a](u,[r,n||e]);if(!s.isArray(l))return i=s._setError(i,e,"function return type is not array");if(s.minArrayLength(l,1))for(const t of l)i=s._setError(i,e,t);return i}static _getMinErrorMsg(t,e,r=""){return s.isString(t)?r?`${r}は${e}文字以上にしてください`:e+"文字以上にしてください":s.isNumber(t)?r?`${r}は${e}以上にしてください`:e+"以上にしてください":s.isArray(t)||s.isObject(t)?r?`${r}は${e}要素以上にしてください`:e+"要素以上にしてください":s.isBoolean(t)?r?r+"は真偽値です":"真偽値です":""}static _getMaxErrorMsg(t,e,r=""){return s.isString(t)?r?`${r}は${e}文字以内にしてください`:e+"文字以内にしてください":s.isNumber(t)?r?`${r}は${e}以下にしてください`:e+"以下にしてください":s.isArray(t)||s.isObject(t)?r?`${r}は${e}要素以下にしてください`:e+"要素以下にしてください":s.isBoolean(t)?r?r+"は真偽値です":"真偽値です":""}}e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{setup(t){return this.keys=t.input.keyboard.addKeys({left:"left",right:"right"}),this}isDown(t){return this.keys[t].isDown}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={RADIUS:10,COLOR:65280}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={X_NUM:10,Y_NUM:5,X_SIZE:50,Y_SIZE:20,COLOR:13421772,getReferenceXPos(t){return(t-this.X_NUM*(this.X_SIZE+1))/2},getReferenceYPos:t=>t/15}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={X_SIZE:100,Y_SIZE:15,COLOR:16764108,getReferenceXPos:t=>t/2,getReferenceYPos:t=>13*t/15}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{static rect2rect(t,e){return t.x-e.x<t.width/2+e.width/2&&t.y-e.y<t.height/2+e.height/2}static rect2circle(t,e){let r=e.x,s=e.y,i="";e.x<t.x-t.width/2?(r=t.x-t.width/2,i="left"):e.x>t.x+t.width/2&&(r=t.x+t.width/2,i="right"),e.y<t.y-t.height/2?(s=t.y-t.height/2,i="top"):e.y>t.y+t.height/2&&(s=t.y+t.height/2,i="bottom");const n=e.x-r,a=e.y-s;return Math.sqrt(n*n+a*a)<e.radius?i:""}}}]);